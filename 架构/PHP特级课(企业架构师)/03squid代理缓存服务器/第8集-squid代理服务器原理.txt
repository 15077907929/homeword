本章目标
	1.代理服务器的原理
	2.缓存服务器
	3.传统代理服务器
	4.squid访问控制
	5.透明代理服务器
	6.反向代理服务器
代理服务的应用原理
	代理服务器工作在tcp/ip的应用层
		客户程序 →					上层程序				  →	服务程序
		应用层		↓			↑ →	应用代理  →				↑	应用层
		传输层		↓			↑	传输层		↓			↑	传输层
		网络层		↓			↑	网络层		↓			↑	网络层
		数据链路层	↓	→	→	→	数据链路层	↓	→	→	→	数据链路层
		
		受保护客户端				代理服务器					外部网络
	nat技术需要路由功能
	代理技术不需要开启路由功能
	代理可以隔离私网，完全隔离公网，比较安全
	代理工作在应用层	代理适合浏览器的业务
squid服务器的功能
	squid服务器具有以下基本功能
		提供对http和ftp协议的代理服务
		缓存代理的内容，提供客户端访问网站的速度，并能够节约出口网络流量
		对客户端地址进行访问控制，限制运行访问squid服务器的客户机
		对目标地址进行访问控制，限制客户端运行访问的网站
		根据时间进行访问控制，限定客户端可以使用代理服务的时间
squid缓存代理
	缓存代理作用
		通过缓存的方式为用户提供web访问加速
		对客户的web访问进行过滤控制
								cache
							1	2 ↑↓ 3				5			lampbrother.net
						-------→				-------------→		↑↓
			客户端pc机			squid代理服务器					internet
						←-------				←-------------
							4						6
		squid还会去服务器跑一趟，把动态数据拿回来，同时看一下，静态文件是否过期。只是缓存了一部分静态数据，不能替代web服务器。
		动态数据每次都需要去取。
squid普通和透明代理
	普通代理服务
		即标准的、传统的代理服务
		需要客户机在浏览器中指定代理服务器的地址、端口
	透明代理服务器
		适用于企业的网关主机
		客户机不需要指定代理服务器地址、端口等信息
		通过iptables将客户机的web访问数据交给代理服务程序处理
			开启代理缓存功能可以给网站加速，减少流量
	服务器发布
squid反向代理
	反向代理服务
		为internet用户访问企业web站点提供缓存加速
			web用户1		web用户2		...			web用户n
			   ↓				↓			↓				↓
							internet
								↓
							反向代理服务器
					↓			↓			↓			↓
				web服务器1 	web服务器2 ...		web服务器n
	
	
	
	
	
	
	